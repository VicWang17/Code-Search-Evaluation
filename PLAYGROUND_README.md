# 🔍 Code Search Playground

一个现代化的代码检索测试平台，提供直观的界面来测试和分析代码搜索功能。

## ✨ 功能特性

### 🎯 核心功能
- **智能搜索**: 支持多种搜索方法（Original、HyDE、Structure、Hybrid）
- **灵活重排**: 提供多种重排算法（Vector、AI、Hybrid、Model）
- **实时分析**: 搜索结果的实时统计和可视化分析
- **响应式设计**: 适配桌面和移动设备的现代化界面

### 📊 数据可视化
- **ECharts集成**: 使用ECharts展示搜索结果分数分布
- **统计面板**: 显示总结果数、平均分数、最高分数、响应时间
- **交互式图表**: 支持鼠标悬停查看详细信息

### 🎨 界面设计
- **暗色主题**: 专为数据分析场景设计的深色界面
- **渐变效果**: 现代化的渐变背景和按钮设计
- **毛玻璃效果**: 使用backdrop-filter实现的毛玻璃面板
- **响应式布局**: 自适应不同屏幕尺寸

## 🚀 快速开始

### 1. 启动Playground

```bash
# 使用默认端口8080
python3 start_playground.py

# 或指定其他端口
python3 start_playground.py --port 8081
```

### 2. 访问界面

启动后会自动打开浏览器，或手动访问：
```
http://localhost:8080/playground.html
```

### 3. 配置API服务

确保代码检索API服务正在运行：
```
http://localhost:8000/api/search/unified
```

## 🔧 配置说明

### 搜索方法 (Method)
- **Original**: 原始搜索算法
- **HyDE**: 假设文档嵌入搜索
- **Structure**: 结构化搜索
- **Hybrid**: 混合搜索方法

### 重排方法 (Rank Method)
- **Vector**: 基于向量相似度重排
- **AI**: AI模型重排
- **Hybrid**: 混合重排策略
- **Model**: 模型驱动重排

### 其他参数
- **项目ID**: 指定要搜索的代码库项目
- **结果数量**: 返回的搜索结果数量（1-50）

## 📈 数据分析功能

### 统计指标
- **总结果数**: 搜索返回的结果总数
- **平均分数**: 所有结果的平均相关性分数
- **最高分数**: 最相关结果的分数
- **响应时间**: API请求的响应时间

### 可视化图表
- **柱状图**: 显示每个搜索结果的相关性分数
- **交互式**: 鼠标悬停显示文件路径和详细信息
- **渐变色**: 使用蓝色渐变表示分数高低

## 🛠 技术栈

### 前端技术
- **HTML5**: 现代化的语义化标记
- **CSS3**: 使用Flexbox/Grid布局，支持渐变和毛玻璃效果
- **JavaScript ES6+**: 原生JavaScript，无框架依赖
- **ECharts 5.4.3**: 数据可视化图表库

### 后端服务
- **Python HTTP Server**: 简单的静态文件服务器
- **CORS支持**: 跨域请求处理
- **自动浏览器启动**: 便捷的开发体验

## 🎯 使用场景

### 开发测试
- 测试不同搜索算法的效果
- 比较重排方法的性能
- 调试API接口参数

### 演示展示
- 向客户展示搜索功能
- 产品功能演示
- 技术方案验证

### 数据分析
- 分析搜索结果质量
- 评估算法性能
- 优化搜索参数

## 📝 API接口

### 请求格式
```json
{
  "q": "搜索查询语句",
  "limit": 10,
  "project_id": "17",
  "method": "hyde",
  "rank_method": "hybrid"
}
```

### 响应格式
```json
{
  "results": [
    {
      "path": "components/page/banner/index.vue",
      "score": 0.8542,
      "content": "文件内容片段..."
    }
  ]
}
```

## 🔍 快捷键

- **Ctrl + Enter**: 在查询框中执行搜索
- **Ctrl + C**: 停止服务器（终端中）

## 🐛 故障排除

### 常见问题

1. **端口被占用**
   ```bash
   python3 start_playground.py --port 8081
   ```

2. **API连接失败**
   - 检查API服务是否运行在 http://localhost:8000
   - 确认防火墙设置
   - 查看浏览器控制台错误信息

3. **图表不显示**
   - 确认网络连接正常（需要加载ECharts CDN）
   - 检查浏览器控制台是否有JavaScript错误

### 日志查看

服务器日志会显示所有HTTP请求：
```
🌐 127.0.0.1 - "GET /playground.html HTTP/1.1" 200 -
```

## 📄 许可证

本项目基于MIT许可证开源。

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

---

**享受代码搜索的乐趣！** 🎉